<?xml version="1.0" encoding="utf-8"?>
<!--
* Logging Flex, AIR and Flash applications using ThunderBolt AS3 Console
* 
* @author	Jens Krause [www.websector.de]
* @see		http://www.websector.de/blog/category/thunderbolt/
* @see		http://code.google.com/p/flash-thunderbolt/
* 
* Source code based on the Mozilla Public License 1.1. Feel free to use it!
*
-->
<mx:VBox 
	xmlns:mx="http://www.adobe.com/2006/mxml" 
	xmlns:view="org.osflash.thunderbolt.console.mvc.view.*"
	width="100%" height="100%">

	<mx:Script>
		<![CDATA[
			import skins.AssetLib;
			import org.osflash.thunderbolt.console.mvc.model.AppModel;
			import mx.core.Container;
			
		
			[Bindable] private var _model: AppModel = AppModel.getInstance();		
			
			private function getView( workflowState : Number ) : Container
	 		{
				switch (_model.viewState)
				{
					case AppModel.VIEW_ADD_FILE:
						return configFile;
					case AppModel.VIEW_CONSOLE:
						return console;
					default:
						return console;
						
				}
			}


		]]>
	</mx:Script>

	<mx:Box id="header"
		width="100%" height="84"
		paddingTop="20" paddingLeft="20"
		styleName="header">
		

		<mx:Image source="{AssetLib.logo}"
			click="{ navigateToURL( new URLRequest('http://www.websector.de/blog/category/thunderbolt/') ); }"
			buttonMode="true" />
		
	</mx:Box>

	<mx:ViewStack id="mainViewStack" 
		height="100%" width="100%"
   		selectedChild="{ getView( _model.viewState ) }">
		
		<view:ConfigFileView id="configFile"
			width="100%" height="100%" />
			
		<view:ConsoleView id="console"
			width="100%" height="100%" />
		
	</mx:ViewStack>

	<footer:Footer
		xmlns:footer="org.osflash.thunderbolt.console.mvc.view.components.*"	/>
</mx:VBox>
